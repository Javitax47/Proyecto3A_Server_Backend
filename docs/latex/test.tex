\chapter{Lista de pruebas}
\hypertarget{test}{}\label{test}\index{Lista de pruebas@{Lista de pruebas}}

\begin{DoxyRefList}
\item[Miembro \doxylink{server_8test_8js_a70d1e546b373d9c07a6237b86b91d5f3}{describe} (\textquotesingle{}API Routes\textquotesingle{},()=\texorpdfstring{$>$}{>} \{ before\+Each(()=\texorpdfstring{$>$}{>} \{ pool.\+query.\+mock\+Clear();\});it(\textquotesingle{}should set up tables successfully\textquotesingle{}, async()=\texorpdfstring{$>$}{>} \{ pool.\+query.\+mock\+Resolved\+Value(\{\});const res=await \doxylink{server_8test_8js_a1dfca945900c6914dacaa64db845f664}{request(app)}.get(\textquotesingle{}/setup\textquotesingle{});expect(res.\+status\+Code).to\+Equal(200);expect(res.\+body).to\+Have\+Property(\textquotesingle{}message\textquotesingle{}, "{}\+Successfully created users and sensors tables"{});\});it(\textquotesingle{}should create a new user\textquotesingle{}, async()=\texorpdfstring{$>$}{>} \{ pool.\+query.\+mock\+Resolved\+Value(\{\});const res=await \doxylink{server_8test_8js_a1dfca945900c6914dacaa64db845f664}{request(app)} .post(\textquotesingle{}/users\textquotesingle{}) .send(\{ username\+:\textquotesingle{}testuser\textquotesingle{} \});expect(res.\+status\+Code).to\+Equal(200);expect(res.\+body).to\+Have\+Property(\textquotesingle{}message\textquotesingle{}, "{}\+Successfully added user"{});\});it(\textquotesingle{}should not insert sensor data if user does not exist\textquotesingle{}, async()=\texorpdfstring{$>$}{>} \{ pool.\+query.\+mock\+Resolved\+Value(\{ rows\+:\mbox{[}\mbox{]} \});const res=await \doxylink{server_8test_8js_a1dfca945900c6914dacaa64db845f664}{request(app)} .post(\textquotesingle{}/\textquotesingle{}) .send(\{ type\+:\textquotesingle{}temperature\textquotesingle{}, value\+:25, timestamp\+:new Date().to\+ISOString(), user\+Id\+:999 \});expect(res.\+status\+Code).to\+Equal(400);expect(res.\+body).to\+Have\+Property(\textquotesingle{}message\textquotesingle{}, "{}\+User does not exist"{});\});it(\textquotesingle{}should reset the tables successfully\textquotesingle{}, async()=\texorpdfstring{$>$}{>} \{ pool.\+query.\+mock\+Resolved\+Value(\{\});const res=await \doxylink{server_8test_8js_a1dfca945900c6914dacaa64db845f664}{request(app)}.delete(\textquotesingle{}/reset\textquotesingle{});expect(res.\+status\+Code).to\+Equal(200);expect(res.\+body).to\+Have\+Property(\textquotesingle{}message\textquotesingle{}, "{}\+Successfully reset users and sensors tables with default data"{});\});\})]\hfill \\
\label{test__test000001}%
\Hypertarget{test__test000001}%
 Prueba para la ruta GET /setup.

\label{test__test000002}%
\Hypertarget{test__test000002}%
 Prueba para la ruta POST /users.

\label{test__test000003}%
\Hypertarget{test__test000003}%
 Prueba para la ruta POST /.

\label{test__test000004}%
\Hypertarget{test__test000004}%
 Prueba para la ruta DELETE /reset.
\end{DoxyRefList}