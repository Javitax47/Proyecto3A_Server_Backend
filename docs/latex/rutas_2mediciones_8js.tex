\doxysection{Referencia del archivo backend/rutas/mediciones.js}
\hypertarget{rutas_2mediciones_8js}{}\label{rutas_2mediciones_8js}\index{backend/rutas/mediciones.js@{backend/rutas/mediciones.js}}
\doxysubsubsection*{Funciones}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{servicios_2alertas_8js_a7f43c2fdec3f5b2b2d8dc821db72c367}{router}} \mbox{\hyperlink{rutas_2mediciones_8js_a65d03e46921fbf84f91b88ffe7a60718}{post}} (\textquotesingle{}/mediciones\textquotesingle{}, async(req, res)=$>$ \{ \mbox{\hyperlink{db_8js_a92b303b76a3f942ea819498907d5e83c}{const}} \{ sensor\+Id, valor, timestamp, tipo, location \}=req.\+body;try \{ \mbox{\hyperlink{db_8js_a92b303b76a3f942ea819498907d5e83c}{const}} result=await \mbox{\hyperlink{servicios_2mediciones_8js_a4aa3785da9c166b2a7b3860189123710}{medicion}}(sensor\+Id, valor, timestamp, tipo, location);res.\+status(200).send(result);\} catch(err) \{ console.\+error(err);res.\+status(500).send(\{ error\+:err.\+message \});\} \})
\begin{DoxyCompactList}\small\item\em Crea una nueva medición en la base de datos. \end{DoxyCompactList}\item 
\mbox{\hyperlink{servicios_2alertas_8js_a7f43c2fdec3f5b2b2d8dc821db72c367}{router}} \mbox{\hyperlink{rutas_2mediciones_8js_a3695bf2559fcc5813c47fec9b86259c9}{get}} (\textquotesingle{}/latest\+By\+Email/\+:email\textquotesingle{}, async(req, res)=$>$ \{ \mbox{\hyperlink{db_8js_a92b303b76a3f942ea819498907d5e83c}{const}} \{ email \}=req.\+params;try \{ \mbox{\hyperlink{db_8js_a92b303b76a3f942ea819498907d5e83c}{const}} result=await \mbox{\hyperlink{servicios_2mediciones_8js_a8eca8e00491ab76e5d1df02cf8dfb08f}{latest}}(email);res.\+status(200).send(result);\} catch(err) \{ console.\+error(err);res.\+status(500).send(\{ error\+:err.\+message \});\} \})
\begin{DoxyCompactList}\small\item\em Obtiene la última medición de un usuario por correo electrónico. \end{DoxyCompactList}\item 
\mbox{\hyperlink{servicios_2alertas_8js_a7f43c2fdec3f5b2b2d8dc821db72c367}{router}} \mbox{\hyperlink{rutas_2mediciones_8js_a696641fbb2c8fa174b13d0ff95576d75}{get}} (\textquotesingle{}/mediciones/\+:fecha\textquotesingle{}, async(req, res)=$>$ \{ \mbox{\hyperlink{db_8js_a92b303b76a3f942ea819498907d5e83c}{const}} \{ fecha \}=req.\+params;try \{ \mbox{\hyperlink{db_8js_a92b303b76a3f942ea819498907d5e83c}{const}} result=await \mbox{\hyperlink{servicios_2mediciones_8js_adf41fd97344cbf81977308ae9afbb527}{get\+Mediciones}}(fecha);res.\+status(200).send(result);\} catch(err) \{ console.\+error(err);res.\+status(500).send(\{ error\+:err.\+message \});\} \})
\begin{DoxyCompactList}\small\item\em Obtiene las mediciones realizadas en una fecha específica. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{db_8js_a92b303b76a3f942ea819498907d5e83c}{const}} \mbox{\hyperlink{rutas_2mediciones_8js_a81e570c198204c57e1ebcace4f4e6dad}{express}} = require(\textquotesingle{}express\textquotesingle{})
\item 
\mbox{\hyperlink{rutas_2mediciones_8js_a92b303b76a3f942ea819498907d5e83c}{const}} \{ \mbox{\hyperlink{servicios_2mediciones_8js_a4aa3785da9c166b2a7b3860189123710}{medicion}}, \mbox{\hyperlink{servicios_2mediciones_8js_a8eca8e00491ab76e5d1df02cf8dfb08f}{latest}}, \mbox{\hyperlink{servicios_2mediciones_8js_adf41fd97344cbf81977308ae9afbb527}{get\+Mediciones}} \} = require(\textquotesingle{}../servicios/mediciones\textquotesingle{})
\item 
\mbox{\hyperlink{db_8js_a92b303b76a3f942ea819498907d5e83c}{const}} \mbox{\hyperlink{rutas_2mediciones_8js_a7f43c2fdec3f5b2b2d8dc821db72c367}{router}} = express.\+Router()
\item 
module \mbox{\hyperlink{rutas_2mediciones_8js_aa4072ba4b6b56b0fb6f4801f17ab2b34}{exports}} = \mbox{\hyperlink{servicios_2alertas_8js_a7f43c2fdec3f5b2b2d8dc821db72c367}{router}}
\begin{DoxyCompactList}\small\item\em Exporta el router para ser utilizado en la aplicación principal. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Documentación de funciones}
\Hypertarget{rutas_2mediciones_8js_a3695bf2559fcc5813c47fec9b86259c9}\index{mediciones.js@{mediciones.js}!get@{get}}
\index{get@{get}!mediciones.js@{mediciones.js}}
\doxysubsubsection{\texorpdfstring{get()}{get()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \label{rutas_2mediciones_8js_a3695bf2559fcc5813c47fec9b86259c9} 
\mbox{\hyperlink{servicios_2alertas_8js_a7f43c2fdec3f5b2b2d8dc821db72c367}{router}} get (\begin{DoxyParamCaption}\item[{\textquotesingle{}/latest\+By\+Email/\+:email\textquotesingle{}}]{}{, }\item[{async(req, res)}]{}{, }\item[{\{ \mbox{\hyperlink{db_8js_a92b303b76a3f942ea819498907d5e83c}{const}} \{ email \}=req.\+params;try \{ \mbox{\hyperlink{db_8js_a92b303b76a3f942ea819498907d5e83c}{const}} result=await \mbox{\hyperlink{servicios_2mediciones_8js_a8eca8e00491ab76e5d1df02cf8dfb08f}{latest}}(email);res.\+status(200).send(result);\} catch(err) \{ console.\+error(err);res.\+status(500).send(\{ error\+:err.\+message \});\} \}}]{}{}\end{DoxyParamCaption})}



Obtiene la última medición de un usuario por correo electrónico. 

@route GET /latest\+By\+Email/\+:email 
\begin{DoxyParams}{Parámetros}
{\em \{string\}} & email -\/ Correo electrónico del usuario. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Devuelve}
\{Object\} Respuesta con la última medición del usuario. 
\end{DoxyReturn}

\begin{DoxyExceptions}{Excepciones}
{\em \{\+Error\}} & Error interno del servidor. \\
\hline
\end{DoxyExceptions}
\Hypertarget{rutas_2mediciones_8js_a696641fbb2c8fa174b13d0ff95576d75}\index{mediciones.js@{mediciones.js}!get@{get}}
\index{get@{get}!mediciones.js@{mediciones.js}}
\doxysubsubsection{\texorpdfstring{get()}{get()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \label{rutas_2mediciones_8js_a696641fbb2c8fa174b13d0ff95576d75} 
\mbox{\hyperlink{servicios_2alertas_8js_a7f43c2fdec3f5b2b2d8dc821db72c367}{router}} get (\begin{DoxyParamCaption}\item[{\textquotesingle{}/mediciones/\+:fecha\textquotesingle{}}]{}{, }\item[{async(req, res)}]{}{, }\item[{\{ \mbox{\hyperlink{db_8js_a92b303b76a3f942ea819498907d5e83c}{const}} \{ fecha \}=req.\+params;try \{ \mbox{\hyperlink{db_8js_a92b303b76a3f942ea819498907d5e83c}{const}} result=await \mbox{\hyperlink{servicios_2mediciones_8js_adf41fd97344cbf81977308ae9afbb527}{get\+Mediciones}}(fecha);res.\+status(200).send(result);\} catch(err) \{ console.\+error(err);res.\+status(500).send(\{ error\+:err.\+message \});\} \}}]{}{}\end{DoxyParamCaption})}



Obtiene las mediciones realizadas en una fecha específica. 

@route GET /mediciones/\+:fecha 
\begin{DoxyParams}{Parámetros}
{\em \{string\}} & fecha -\/ Fecha para consultar las mediciones. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Devuelve}
\{Object\} Respuesta con las mediciones realizadas en la fecha. 
\end{DoxyReturn}

\begin{DoxyExceptions}{Excepciones}
{\em \{\+Error\}} & Error interno del servidor. \\
\hline
\end{DoxyExceptions}
\Hypertarget{rutas_2mediciones_8js_a65d03e46921fbf84f91b88ffe7a60718}\index{mediciones.js@{mediciones.js}!post@{post}}
\index{post@{post}!mediciones.js@{mediciones.js}}
\doxysubsubsection{\texorpdfstring{post()}{post()}}
{\footnotesize\ttfamily \label{rutas_2mediciones_8js_a65d03e46921fbf84f91b88ffe7a60718} 
\mbox{\hyperlink{servicios_2alertas_8js_a7f43c2fdec3f5b2b2d8dc821db72c367}{router}} post (\begin{DoxyParamCaption}\item[{\textquotesingle{}/mediciones\textquotesingle{}}]{}{, }\item[{async(req, res)}]{}{, }\item[{\{ \mbox{\hyperlink{db_8js_a92b303b76a3f942ea819498907d5e83c}{const}} \{ sensor\+Id, valor, timestamp, tipo, location \}=req.\+body;try \{ \mbox{\hyperlink{db_8js_a92b303b76a3f942ea819498907d5e83c}{const}} result=await \mbox{\hyperlink{servicios_2mediciones_8js_a4aa3785da9c166b2a7b3860189123710}{medicion}}(sensor\+Id, valor, timestamp, tipo, location);res.\+status(200).send(result);\} catch(err) \{ console.\+error(err);res.\+status(500).send(\{ error\+:err.\+message \});\} \}}]{}{}\end{DoxyParamCaption})}



Crea una nueva medición en la base de datos. 

@route POST /mediciones 
\begin{DoxyParams}{Parámetros}
{\em \{string\}} & sensor\+Id -\/ Identificador del sensor. \\
\hline
{\em \{number\}} & valor -\/ Valor medido por el sensor. \\
\hline
{\em \{string\}} & timestamp -\/ Marca de tiempo de la medición. \\
\hline
{\em \{string\}} & tipo -\/ Tipo de medición. \\
\hline
{\em \{\+Object\}} & location -\/ Ubicación de la medición. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Devuelve}
\{Object\} Respuesta con el resultado de la operación. 
\end{DoxyReturn}

\begin{DoxyExceptions}{Excepciones}
{\em \{\+Error\}} & Error interno del servidor. \\
\hline
\end{DoxyExceptions}


\doxysubsection{Documentación de variables}
\Hypertarget{rutas_2mediciones_8js_a92b303b76a3f942ea819498907d5e83c}\index{mediciones.js@{mediciones.js}!const@{const}}
\index{const@{const}!mediciones.js@{mediciones.js}}
\doxysubsubsection{\texorpdfstring{const}{const}}
{\footnotesize\ttfamily \label{rutas_2mediciones_8js_a92b303b76a3f942ea819498907d5e83c} 
const \{ \mbox{\hyperlink{servicios_2mediciones_8js_a4aa3785da9c166b2a7b3860189123710}{medicion}}, \mbox{\hyperlink{servicios_2mediciones_8js_a8eca8e00491ab76e5d1df02cf8dfb08f}{latest}}, \mbox{\hyperlink{servicios_2mediciones_8js_adf41fd97344cbf81977308ae9afbb527}{get\+Mediciones}} \} = require(\textquotesingle{}../servicios/mediciones\textquotesingle{})}

\Hypertarget{rutas_2mediciones_8js_aa4072ba4b6b56b0fb6f4801f17ab2b34}\index{mediciones.js@{mediciones.js}!exports@{exports}}
\index{exports@{exports}!mediciones.js@{mediciones.js}}
\doxysubsubsection{\texorpdfstring{exports}{exports}}
{\footnotesize\ttfamily \label{rutas_2mediciones_8js_aa4072ba4b6b56b0fb6f4801f17ab2b34} 
module exports = \mbox{\hyperlink{servicios_2alertas_8js_a7f43c2fdec3f5b2b2d8dc821db72c367}{router}}}



Exporta el router para ser utilizado en la aplicación principal. 

\Hypertarget{rutas_2mediciones_8js_a81e570c198204c57e1ebcace4f4e6dad}\index{mediciones.js@{mediciones.js}!express@{express}}
\index{express@{express}!mediciones.js@{mediciones.js}}
\doxysubsubsection{\texorpdfstring{express}{express}}
{\footnotesize\ttfamily \label{rutas_2mediciones_8js_a81e570c198204c57e1ebcace4f4e6dad} 
\mbox{\hyperlink{db_8js_a92b303b76a3f942ea819498907d5e83c}{const}} express = require(\textquotesingle{}express\textquotesingle{})}

\Hypertarget{rutas_2mediciones_8js_a7f43c2fdec3f5b2b2d8dc821db72c367}\index{mediciones.js@{mediciones.js}!router@{router}}
\index{router@{router}!mediciones.js@{mediciones.js}}
\doxysubsubsection{\texorpdfstring{router}{router}}
{\footnotesize\ttfamily \label{rutas_2mediciones_8js_a7f43c2fdec3f5b2b2d8dc821db72c367} 
\mbox{\hyperlink{db_8js_a92b303b76a3f942ea819498907d5e83c}{const}} router = express.\+Router()}

